.container {
  position: relative;
  min-height: 100vh;
  height: 100%;
  width: 100%;
  overflow-x: hidden;
}

.section {
  position: relative;
  width: 100%;
}

.contentContainer {
  position: relative;
  z-index: 2;
  height: 100%;
}

.grainOverlay {
  position: fixed;
  pointer-events: none;
  z-index: 1;
  
  animation: grainDrift infinite linear;
  
  -webkit-backface-visibility: hidden;
  -moz-backface-visibility: hidden;
  -webkit-transform: translate3d(0, 0, 0);
  -moz-transform: translate3d(0, 0, 0);
  transform: translate3d(0, 0, 0);
  
  will-change: transform;
}

@keyframes grainDrift {
  0% { 
    transform: translate3d(0, 0, 0); 
  }
  25% { 
    transform: translate3d(-2%, -1%, 0); 
  }
  50% { 
    transform: translate3d(-1%, -3%, 0); 
  }
  75% { 
    transform: translate3d(-3%, -2%, 0); 
  }
  100% { 
    transform: translate3d(0, 0, 0); 
  }
}

.transitionSection {
  display: flex;
  flex-direction: column;
}

.transitionSection .contentContainer {
  flex: 1;
  display: flex;
  flex-direction: column;
  justify-content: flex-start;
}

/* Accessibility: Respect reduced motion preference */
@media (prefers-reduced-motion: reduce) {
  .grainOverlay {
    animation: none !important;
    /* Keep grain but make it static */
    transform: translate3d(-1%, -1%, 0) !important;
  }
}

/* Safari-specific optimizations */
@supports (-webkit-touch-callout: none) {
  .grainOverlay {
    /* Additional Safari performance optimizations */
    -webkit-transform: translateZ(0);
    transform: translateZ(0);
    -webkit-perspective: 1000px;
    perspective: 1000px;
  }
}

/* High DPI display adjustments */
@media (-webkit-min-device-pixel-ratio: 2), (min-resolution: 192dpi) {
  .grainOverlay {
    /* Slightly reduce grain size on high-DPI displays for better visual quality */
    background-size: 150px 150px;
  }
}